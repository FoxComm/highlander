# Common variables
home: /home/{{ user }}
self_host: 127.0.0.1
dest_services: /etc/systemd/system
usr_local: /usr/local/
public_keys_dest_dir: /etc/keys
private_keys_dest_dir: /etc/keys
scala_version: scala-2.11
vagrant: false
local_vagrant: false
foxcomm_domain: foxcommerce.com

# Docker Defaults
docker_tag: master
docker_registry: docker-stage.foxcommerce.com
docker_registry_provider: gce
docker_logs_dir: /logs
docker_logs_host_dir: /var/log/docker

# Marathon Defaults
marathon_retries: 60
marathon_delay: 10

# Default docker tags for containers
docker_tags:
    ashes: master
    firebrand: master
    phoenix: master
    greenriver: master
    middlewarehouse: master
    messaging: master
    isaac: master
    solomon: master
    capture-consumer: master
    gift-card-consumer: master
    shipments-consumer: master
    shipstation-consumer: master
    stock-items-consumer: master
    storefront-td: master
    storefront-tpg: master
    marketplace: master
    marketplace-ui: master
    product-search: master
    demo-search: master

# Consul Service Discovery
consul_data_dir: /var/consul
consul_suffix: service.consul

consul_hosts:
    ashes: "ashes.{{consul_suffix}}"
    consul: "{{self_host}}"
    db: "db.{{consul_suffix}}"
    docker_db: "db.{{consul_suffix}}"
    elasticsearch: "elasticsearch.{{consul_suffix}}"
    isaac: "isaac.{{consul_suffix}}"
    kafka: "kafka.{{consul_suffix}}"
    mararthon: "mararthon.{{consul_suffix}}"
    marketplace: "marketplace.{{consul_suffix}}"
    marketplace_ui: "marketplace_ui.{{consul_suffix}}"
    mesos_master: "mesos_master.{{consul_suffix}}"
    messaging: "messaging.{{consul_suffix}}"
    middlewarehouse: "middlewarehouse.{{consul_suffix}}"
    phoenix: "phoenix.{{consul_suffix}}"
    product_search: "product_search.{{consul_suffix}}"
    schema_registry: "schema.{{consul_suffix}}"
    solomon: "solomon.{{consul_suffix}}"
    storefront: "storefront.{{consul_suffix}}"
    zookeeper: "zookeeper.{{consul_suffix}}"

consul_ports:
    ashes: 4000
    consul: 8500
    es_http: 9200
    es_tcp: 9300
    es_logs: 9201
    es_jmx: 29010
    greenriver_jmx: 39011
    isaac: 9190
    kafka: 9092
    marathon: 8080
    marketplace: 4003
    marketplace_ui: 4042
    messaging_jmx: 39012
    middlewarehouse: 9292
    phoenix: 9090
    phoenix_jmx: 39014
    product_search: 5492
    schema_registry: 8081
    solomon: 4002
    storefront: 4041
    zookeeper: 2181

consul_services:
    ashes: "{{consul_hosts.ashes}}.{{consul_ports.ashes}}"
    consul: "{{consul_hosts.consul}}.{{consul_ports.consul}}"
    isaac: "{{consul_hosts.isaac}}.{{consul_ports.isaac}}"
    es_http: "{{consul_hosts.elasticsearch}}.{{consul_ports.es_http}}"
    es_tcp: "{{consul_hosts.elasticsearch}}.{{consul_ports.es_tcp}}"
    es_logs: "{{consul_hosts.elasticsearch}}.{{consul_ports.es_logs}}"
    kafka: "{{consul_hosts.kafka}}.{{consul_ports.kafka}}"
    marathon: "{{consul_hosts.marathon}}.{{consul_ports.marathon}}"
    marketplace: "{{consul_hosts.marketplace}}.{{consul_ports.marketplace}}"
    marketplace_ui: "{{consul_hosts.marketplace_ui}}.{{consul_ports.marketplace_ui}}"
    middlewarehouse: "{{consul_hosts.middlewarehouse}}.{{consul_ports.middlewarehouse}}"
    phoenix: "{{consul_hosts.phoenix}}.{{consul_ports.phoenix}}"
    product_search: "{{consul_hosts.product_search}}.{{consul_ports.product_search}}"
    schema_registry: "{{consul_hosts.schema_registry}}.{{consul_ports.schema_registry}}"
    solomon: "{{consul_hosts.solomon}}.{{consul_ports.solomon}}"
    storefront: "{{consul_hosts.storefront}}.{{consul_ports.storefront}}"
    zookeeper: "{{consul_hosts.zookeeper}}.{{consul_ports.zookeeper}}"
    zookeepers: "zk://{{consul_services.zookeeper}}"

# Database & bottledwater
db_user: phoenix
db_name: phoenix_development
db_connection_string: "postgresql://{{consul_hosts.db}}/phoenix_development?user={{db_user}}"
bottledwater_slot_phoenix: bottledwater_phoenix
bottledwater_slot_middlewarehouse: bottledwater_middlewarehouse
bottledwater_slot_marketplace: bottledwater_marketplace

# Green River
greenriver_version: 1.0
greenriver_env: localhost
greenriver_jar_src: ../../green-river/target/{{scala_version}}/green-river-assembly-{{greenriver_version}}.jar
greenriver_jar: /usr/local/bin/green-river.jar
greenriver_restart: "false"

# Phoenix
phoenix_version: 1.0
phoenix_env: staging
phoenix_src: ../../phoenix-scala/
phoenix_jar_src: "{{phoenix_src}}/gatling/target/{{scala_version}}/phoenix-scala-assembly-{{phoenix_version}}.jar"

phoenix_dir: /phoenix
phoenix_jar: "{{phoenix_dir}}/phoenix.jar"

phoenix_db_name: phoenix_development
phoenix_db_user: phoenix
phoenix_test_db_name: phoenix_test
phoenix_tracing: "false"
phoenix_db_connection_string: "postgresql://{{phoenix_db_user}}@{{consul_hosts.db}}/{{phoenix_db_name}}"

phoenix_api_version: v1
phoenix_api_user_org: tenant
phoenix_api_user: "api@foxcommerce.com"
phoenix_api_password: "api$pass7!"

phoenix_tax_rule_region: ""
phoenix_tax_rule_rate: ""

# Do not use this in production
# This is a ttl of 1 year
phoenix_token_ttl: 525600
solomon_token_ttl: 365

# Middlewarehouse
middlewarehouse_env: staging
middlewarehouse_src: ../../middlewarehouse/
middlewarehouse_dir: /middlewarehouse

middlewarehouse_db_name: middlewarehouse_development
middlewarehouse_db_user: middlewarehouse
middlewarehouse_db_connection_string: "postgresql://{{middlewarehouse_db_user}}@{{consul_hosts.db}}/{{middlewarehouse_db_name}}"
middlewarehouse_test_db_name: middlewarehouse_test

# Shipstation consumer
shipstation_api_key: ""
shipstation_api_secret: ""
shipstation_topic: "activities"
shipstation_interval: "10s"

# Firebrand variables
firebrand_env: production
firebrand_default_language: en

# Storefront variables
storefront_default_language: en
storefront_fixed_language: false

# Seeds
seeds_cmd: utils.seeds.Seeds seed --seedAdmins --seedDemo 1
gatling_oneshot_seeds_cmd: seeds.OneshotSeeds
gatling_continuous_seeds_cmd: seeds.ContinuousSeeds

# Google OAuth
google_oauth_admin_client_id: ""
google_oauth_admin_secret: ""
google_oauth_admin_hosted_domain: ""
google_oauth_admin_redirect_uri: ""

google_oauth_frontend_client_id: ""
google_oauth_frontend_secret: ""
google_oauth_frontend_redirect_uri: ""

# VM swap size
swap_file: /swap
swap_size_mb: 2000

# Zipkin
zipkin_collector: localhost

# Are we running packer?
packing: false

# Deploy marketplace?
with_marketplace: false

# Test Stripe api key
stripe_api_key: sk_test_13rnEgvA4DGHgv4f2GMCDtes
stripe_publishable_key: pk_test_1H2C9nTZpy8szPmboOEDwdwN

# Certificates path
cert_path: test/fox

# Mesos
mesos_quorum: 2
mesos_ip: 0.0.0.0

# Seeder flags
with_gatling_seeder: true
with_mwh_seeder: true

# Marketplace
marketplace_db_name: marketplace_development
marketplace_db_user: marketplace
marketplace_db_connection_string: "postgresql://{{marketplace_db_user}}@{{consul_hosts.db}}/{{marketplace_db_name}}"

# Set this to true for first run deployments
first_run: false

# Logrotate
logrotate_dir: /etc/logrotate.d
