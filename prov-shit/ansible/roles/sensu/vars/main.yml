---
# vars file for sensu

# Options for Standalone installation
sensu_deploy_rabbitmq: false
sensu_deploy_redis: false

# Redis config
redis_server: false
redis_host: "{{ groups['redis-servers'][0] }}"
redis_repo: 'ppa:chris-lea/redis-server'
redis_port: 6379

# RabbitMQ config
rabbitmq_server: false
rabbitmq_repo_key: 'https://www.rabbitmq.com/rabbitmq-release-signing-key.asc'
rabbitmq_repo: 'deb http://www.rabbitmq.com/debian/ testing main'
rabbitmq_config_path: /etc/rabbitmq
rabbitmq_config_template: rabbitmq.config.j2
rabbitmq_host: "{{ groups['rabbitmq-servers'][0] }}"
rabbitmq_port: 5671
rabbitmq_sensu_user_name: sensu
rabbitmq_sensu_password: sensu
rabbitmq_sensu_vhost: /sensu

# Sensu Core config
sensu_version: "0.26"
sensu_master: false
sensu_include_dashboard: false
#sensu_include_plugins: true
sensu_transport: rabbitmq
# TODO
#static_data_store: 
#dynamic_data_store: 
#
sensu_core_repo_key: 'https://sensu.global.ssl.fastly.net/apt/pubkey.gpg'
sensu_core_repo: 'deb https://sensu.global.ssl.fastly.net/apt sensu main'
sensu_api_host: "{{ groups['sensu-masters'][0] }}"
sensu_api_port: 4567
sensu_api_user_name: admin
sensu_api_password: secret
sensu_api_timeout: 5000
sensu_config_path: /etc/sensu
sensu_master_config_path: "{{ hostvars[groups['sensu-masters'][0]]['sensu_config_path'] | default('/etc/sensu') }}"
sensu_user_name: root
sensu_group_name: root
sensu_ssl: true
sensu_ssl_client_cert: "{{ sensu_ssl_tool_base_path }}/client/cert.pem"
sensu_ssl_client_key: "{{ sensu_ssl_tool_base_path }}/client/key.pem"
sensu_ssl_tool_base_path: "{{ dynamic_data_store }}/{{ groups['sensu-masters'][0] }}{{ sensu_master_config_path }}/ssl_generation/sensu_ssl_tool"
sensu_ssl_server_cacert: "{{ sensu_ssl_tool_base_path }}/sensu_ca/cacert.pem"
sensu_ssl_server_cert: "{{ sensu_ssl_tool_base_path }}/server/cert.pem"
sensu_ssl_server_key: "{{ sensu_ssl_tool_base_path }}/server/key.pem"
# Dachboard (Uchiwa) config
uchiwa_dc_name: 'FoxCommerce Test'
uchiwa_users:
  - username: admin
    password: admin
uchiwa_port: 3000
uchiwa_refresh: 5
