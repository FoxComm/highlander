---

- name: Bootstrap Database Backup
  hosts: '{{hostname}}'
  vars:
    user: "{{ ansible_user | default(lookup('env', 'USER')) }}"
  vars_prompt:
    - name: "hostname"
      prompt: "Enter a hostname with a database to backup"
      default: "vanilla-db"
      private: no
    - name: "service_key_file"
      prompt: "Enter a local path to service key file"
      default: "~/foxcomm-vanilla.json"
      private: no
    - name: "db_backup_bucket"
      prompt: "Enter DB backup bucket name"
      default: "vanilla-backups"
      private: no

  roles:
      - { role: dev/db_backup }
