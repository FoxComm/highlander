
/* @flow weak */

import _ from 'lodash';
import { createAction, createReducer } from 'redux-act';

export const toggleCart = createAction('TOGGLE_CART');
export const addToCart = createAction('ADD_TO_CART');

type FormData = {
  isVisible: boolean;
  skus: Array<any>;
};

const initialState: FormData = {
  isVisible: false,
  skus: [],
};

const reducer = createReducer({
  [toggleCart]: state => {
    const currentState = _.get(state, 'isVisible', false);
    return {
      ...state,
      isVisible: !currentState,
    };
  },
  [addToCart]: state => {
    return state;
  },
}, initialState);

export default reducer;
