import { Component, PropTypes } from 'react';
import Gettext from 'node-gettext';


export default class Provider extends Component {

  static propTypes = {
    locale: PropTypes.string.isRequired,
    translation: PropTypes.object.isRequired,
    children: PropTypes.node,
  };

  static childContextTypes = {
    translator: PropTypes.object.isRequired,
    locale: PropTypes.string.isRequired,
    translation: PropTypes.object.isRequired,
  };

  constructor(props, context) {
    super(props, context);

    this.translator = new Gettext();
  }

  getChildContext() {
    const {translator, props: {locale, translation}} = this;

    return {
      translator,
      locale,
      translation,
    };
  }

  render() {
    return this.props.children;
  }
}
