/* @flow */


import _ from 'lodash';
import React, { Component } from 'react';
import styles from './gallery.css';


const controlls = (currentIdx, size) => {
  const dots = _.map(_.range(1, size), (idx) => {
    return <span styleName={idx === currentIdx ? 'dot-selected' : 'dot'} key={idx}>&middot;</span>;
  });
  return (
    <div styleName="controlls">
      <div styleName="controlls-previous">
      </div>
      <div styleName="indicator-container">
        <div styleName="indicator">
          {dots}
        </div>
      </div>
      <div styleName="controlls-previous">
      </div>
    </div>
  );
};

const Gallery = props => {
  const imageBlock = _.map(props.images, (url, idx) => <img src={url} styleName="preview-image" key={idx} />);
  const multipleImagesPresent = _.size(props.images) > 1;
  return (
    <div styleName="gallery">
      <div styleName="images-block">
        {imageBlock}
      </div>
      {multipleImagesPresent && controlls(1, _.size(props.images))}
    </div>
  );
};

export default Gallery;
