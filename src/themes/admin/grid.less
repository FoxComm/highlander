@gutter: 20px;
@grid-columns: 12;

.generate-grid(@columns) {
  .col-denomenator(@idx) when (@idx <= @columns) {
    // 1, 2, 3, 4, 5, 6, 7, 8 etc
    .col-numerator(@fraction) when (@fraction <= @idx) {
      // 1-1, 1-2, 2-2, 1-3, 2-3, 3-3 etc
      @size: (100% / @idx) * @fraction;
      .fc-col-@{fraction}-@{idx} {
        width: @size;
      }
      .fc-pull-@{fraction}-@{idx} {
        left: -@size;
      }
      .fc-push-@{fraction}-@{idx} {
        left: @size;
      }
      .col-numerator(@fraction + 1);
    }
    .col-numerator(1);
    .col-denomenator(@idx + 1);
  }
  .col-denomenator(1);
}

.fc-grid {
  .margin-left(-@gutter);
  display: flex;
  flex-wrap: wrap;

  &:after {
    content: "";
    display: table;
    clear: both;
  }

  [class*='fc-col-'] {
    flex: none;
    float: left;
    .padding-left(@gutter);
    .module {
      .padding(@gutter);
    }
  }

  [class*='fc-pull-'], [class*='fc-push'] {
    position: relative;
  }

  &.fc-grid-match {
    &> [class*='fc-col-'] {
      display: flex;

      &>* {
        flex: none;
        flex-wrap: wrap;
      }
    }
  }

  &.fc-grid-gutter {
    .margin-top(@gutter);
    .margin-bottom(@gutter);
  }

  .generate-grid(@grid-columns);
}
