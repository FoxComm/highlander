---

- name: Bootstrap Consul Alerts
  hosts: '{{hostname}}'
  vars:
    user: '{{ansible_ssh_user}}'
    change_threshold: "60"
  vars_prompt:
    - name: "hostname"
      prompt: "Enter a hostname where to install Consul Alerts"
      private: no
    - name: "slack_channel"
      prompt: "Enter a Slack channel name where notifications will be posted"
      private: no
    - name: "slack_hook_url"
      prompt: "Enter Slack hook URL"
      private: no
  environment:
    GOPATH: "/home/{{user}}/go"

  roles:
      - { role: dev/consul_alerts }
