---

- name: Bootstrap Database
  hosts: '{{hostname}}'
  become: true
  vars:
    user: "{{ ansible_user | default(lookup('env', 'USER')) }}"
    db_name: phoenix
    middlewarehouse_db_name: middlewarehouse
    onboarding_service_db_name: onboarding
    phoenix_db_name: phoenix
    with_onboarding: true
  vars_prompt:
    - name: "hostname"
      prompt: "Enter hostname for database setup"
      default: "vanilla-db"
      private: no

  roles:
    - { role: dev/db }
    - { role: dev/db_ic }

  handlers:
    - include: roles/base/consul_agent/handlers/main.yml
